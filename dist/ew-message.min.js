/*!
 * ewMeassage.js v0.0.7
 * (c) 2023-2023 eveningwater 
 * Released under the MIT License.
 */
var e,t;e=this,t=function(){"use strict";var e=function(){return e=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},e.apply(this,arguments)},t={success:"success",info:"info",warning:"warning",error:"error"},n={content:"",center:!1,type:"info",duration:100,showClose:!0,stylePrefix:"ew-",maxDuration:1e4},o=function(e){return void 0===e&&(e="ew-"),"\n.".concat(e,"message{min-width:300px;border:1px solid #ebeef5;position:fixed;left:50%;background-color:#edf2fc;transform:translateX(-50%);display:flex;align-items:center;padding:10px 15px;overflow:hidden;transition:transform 0.4s;border-radius:4px;top:25px;z-index:10001;box-sizing:border-box;margin:0}.").concat(e,"message *{box-sizing:border-box;margin:0;padding:0}.").concat(e,"message p{padding-right:15px;line-height:1;font-size:14px;color:#909399}.").concat(e,"message-close{position:absolute;top:50%;right:15px;transform:translateY(-50%);cursor:pointer;color:#909399;font-size:16px;font-style:normal}.").concat(e,"message-close:hover,.").concat(e,"message-close:active{color:#909399}.").concat(e,"message-center{justify-content:center}.").concat(e,"message-success{background-color:#e1f3d8;border-color:#e1f3d8}.").concat(e,"message-success p,.").concat(e,"message-success .").concat(e,"message-close{color:#67c23a}.").concat(e,"message-success .").concat(e,"message-close:hover,.").concat(e,"message-success .").concat(e,"message-close:active{color:#67c23a}.").concat(e,"message-warning{background-color:#faecd8;border-color:#fdfce6}.").concat(e,"message-warning p,.").concat(e,"message-warning .").concat(e,"message-close{color:#e6a23c}.").concat(e,"message-warning .").concat(e,"message-close:hover,.").concat(e,"message-warning .").concat(e,"message-close:active{color:#e6a23c}.").concat(e,"message-error{background-color:#fef0f0;border-color:#fde2e2}.").concat(e,"message-error p,.").concat(e,"message-error .").concat(e,"message-close{color:#f56c6c}.").concat(e,"message-error .").concat(e,"message-close:hover,.").concat(e,"message-error .").concat(e,"message-close:active{color:#f56c6c}\n")},s=Object.create(null);s.isFunction=function(e){return"function"==typeof e},s.isDom=function(e){return"object"==typeof HTMLElement?e instanceof HTMLElement:e&&"object"==typeof e&&e instanceof Node&&1===e.nodeType&&"string"==typeof e.nodeName||e instanceof HTMLCollection||e instanceof NodeList},s.warn=function(e){return console.warn(e)},s.toArray=function(e){return[].slice.call(e)},s.isObject=function(e){return"object"==typeof e&&!!e},s.isString=function(e){return"string"==typeof e},s.isNumber=function(e){return"number"==typeof e&&!Number.isNaN(e)},s.hasOwn=function(e,t){return e.hasOwnProperty(t)},s.$$=function(e,t){return void 0===t&&(t=document),t.querySelectorAll(e)},s.$=function(e,t){return void 0===t&&(t=document),t.querySelector(e)};var r=function(t){var o=n;return"string"==typeof t?o.content=t:"object"==typeof t&&t&&(o=e(e({},o),t)),o},i=function(){function i(e){this.options=this.normalizeOptions(e),this.el=null,this.closeBtnEl=null;var t=this.validateHasStyle();t&&(this.options.stylePrefix="ew-"),t||function(e){var t=!1;return s.$$("style").forEach((function(n){n.textContent===o(e)&&(t=!0)})),t}(this.options.stylePrefix)||this.addMessageStyle(this.options.stylePrefix),this.options.immediate&&this.render(this.options)}return i.prototype.success=function(n){this.renderTypedMessage(e(e({},n),{type:t.success}))},i.prototype.warning=function(n){this.renderTypedMessage(e(e({},n),{type:t.warning}))},i.prototype.error=function(n){this.renderTypedMessage(e(e({},n),{type:t.error}))},i.prototype.info=function(n){this.renderTypedMessage(e(e({},n),{type:t.info}))},i.prototype.renderTypedMessage=function(t){var n=e(e({},this.options),t);this.render(n)},i.prototype.destroy=function(){this.el&&this.close(this.el,0)},i.prototype.validateHasStyle=function(){return e=!1,s.$$("link").forEach((function(t){var n=t.getAttribute("href");(null==n?void 0:n.includes("ew-message"))&&(e=!0)})),e;var e},i.prototype.normalizeOptions=function(e){return r(e)},i.prototype.getMessageType=function(){return t},i.prototype.getDefaultOption=function(){return n},i.prototype.addMessageStyle=function(e,t){return function(e,t){return void 0===e&&(e="ew-"),new Promise((function(n){!function(e,t){void 0===t&&(t={});var o=t.insertAt;if(e&&"undefined"!=typeof document){var r=document.head||s.$("head"),i=document.createElement("style");i.type="text/css","top"===o&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.appendChild(document.createTextNode(e)),n(!0)}}(t||o(e))}))}(e,t)},i.prototype.render=function(e){var t=this;s.isNumber(e.duration)&&!(e.duration<=0)||e.showClose||(e.showClose=!0),e.content,document.body.appendChild(this.create(e)),this.setTop(s.$$("."+this.options.stylePrefix+"message")),s.isNumber(e.duration)&&e.duration>0&&this.el instanceof HTMLElement&&this.close(this.el,e.duration),this.closeBtnEl&&(this.closeBtnEl.onclick=function(e){var n=e.target;n&&n.parentElement instanceof HTMLElement&&t.close(n.parentElement,0)})},i.prototype.create=function(e){var t=document.createElement("div");t.className="".concat(this.options.stylePrefix,"message ").concat(this.options.stylePrefix,"message-").concat(e.type),e.center&&t.classList.add(this.options.stylePrefix+"message-center");var n=document.createElement("p");return n.innerHTML=e.content,t.appendChild(n),e.showClose&&(this.closeBtnEl=document.createElement("i"),this.closeBtnEl.classList.add(this.options.stylePrefix+"message-close"),this.closeBtnEl.innerHTML="&times;",t.appendChild(this.closeBtnEl)),this.el=t,t},i.prototype.setTop=function(e){if(e&&e.length)for(var t=e[0].offsetHeight,n=0,o=e.length;n<o;n++)e[n].setAttribute("style","top:"+(25*(n+1)+t*n)+"px;")},i.prototype.close=function(e,t){var n=this,o=!s.isNumber(t)||t<=0?100:t,r=this.options.maxDuration||1e4,i=!s.isNumber(r)||r<=o?o:r;setTimeout((function(){var t,o;e instanceof NodeList||e instanceof HTMLCollection?s.toArray(e).forEach((function(e){var t,n;s.isDom(e)&&s.isDom(e.parentElement)&&s.isFunction(null===(t=e.parentElement)||void 0===t?void 0:t.removeChild)&&(null===(n=e.parentElement)||void 0===n||n.removeChild(e))})):s.isDom(e)&&s.isDom(e.parentElement)&&s.isFunction(null===(t=e.parentElement)||void 0===t?void 0:t.removeChild)&&(null===(o=e.parentElement)||void 0===o||o.removeChild(e)),n.setTop(s.$$("."+n.options.stylePrefix+"message"))}),Math.min(o<1e3?10*o:o,i))},i}(),c=function(e){return new i(e)};c.util=s;var a=function(t){c[t]=function(n){var o=r(n);return s.isObject(n)&&s.hasOwn(n,"type"),new i(e(e({},o),{type:t}))}};for(var l in t)a(l);return c},"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ewMessage=t();